var sessionButton=angular.module("nittsAppSessionButton",["ui.bootstrap","nittsAppSessions"]);sessionButton.controller("loginErrorController",["$scope",function(t){t.context={text:"Mauvais mot de passe. Réessayez de vous connecter",isLoginError:!0}}]),sessionButton.controller("registerErrorController",["$scope",function(t){t.context={text:"Il y a eu un problème avec l'authentification. Veuillez réessayer."}}]),sessionButton.directive("nittsSession",["$uibModal","Session",function(t,n){var e=function(e,o,i){n.getScopeData();"authenticate"==i.nittsSession?o.bind("click",function(){t.open({size:"sm",templateUrl:TEMPLATE_ELEMENTS_URL+"/loginLightbox.html"}).result.then(function(t){o.data("content",o.html()),o.html('<i class="fa fa-spinner fa-lg fa-pulse"></i>'),n.login(t,function(){o.html(o.data("content"))})})}):"logout"==i.nittsSession?o.bind("click",function(){n.logout()}):"register"==i.nittsSession?o.bind("click",function(){mixpanel.track("Click register button"),t.open({templateUrl:TEMPLATE_ELEMENTS_URL+"/RegisterLightbox.html"}).result.then(function(t){mixpanel.track("Validate register form"),o.data("content",o.html()),o.html('<i class="fa fa-spinner fa-lg fa-pulse"></i>'),n.register(t,function(){o.html(o.data("content"))})})}):"forgot"==i.nittsSession&&o.bind("click",function(){t.open({templateUrl:TEMPLATE_ELEMENTS_URL+"/ForgotLightbox.html"}).result.then(function(t){n.forgot(t,function(){})})})};return{restrict:"A",link:e}}]);