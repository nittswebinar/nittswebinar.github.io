var contactMe=angular.module("contactMe",["ui.bootstrap","nittsAppApi","nittsAppSessions","nittsAlert"]);contactMe.directive("contactMe",["api","$uibModal","Session","alerts",function(e,t,n,a){return{restrict:"A",link:function(o,s,i){function c(t){var n=t;n.sentAt=new Date,e.create("contact",n,function(e){a.add({message:"Votre message a bien été envoyé. ",type:"info"})})}var r=i.type||"question",u={message:i.message||"",object:i.object||""};s.bind("click",function(){var e=n.getScopeData(),a={type:"visitor",email:"",name:""};e.user?(a=e.user,a.type="user"):e.attendee&&e.attendee.screenName&&(a=e.attendee,a.type="attendee");var o={sender:a,object:u.object,message:u.message,type:r};return void 0!=i.auto?c(o):void t.open({size:"lg",templateUrl:TEMPLATE_ELEMENTS_URL+"/contactMe.html",controller:["$scope",function(e){e.availableTypes=["Poser une question","Signaler un bug","Problème technique","Partenariat","Demande spéciale","Autre"],e.contactMe=o}]}).result.then(c)})}}}]);