var apiService=angular.module("nittsAppApi",["nittsAppSessions","nittsAlert"]);apiService.provider("api",[function(){var t="https://app.nittswebinar.com/",e="/";this.setApiDomain=function(e){t=e},this.setApiPrefix=function(t){e=t};var n=function(e,n,r){this.setAuthAccessToken=function(){e.defaults.headers.common.Authorization="Bearer "+n.getAccessToken()},this.setAuthAccessToken();var i=function(t){var e=t.status||t.statusCode;return r.add({message:"Oups, une erreur est survenu : Erreur "+e,type:"danger"}),e?!(e<300)&&(e<400?(console.log("redirection "+e),!1):e<500?(403==e&&n.checkIfAuthenticated(),console.log("error "+e),!0):(console.log("internal server error "+e),!0)):(console.log("no status received"),console.log(t),!0)};this.patch=function(n,r,o){e.patch(t+n,r).then(function(t){return o(t.data)},i)},this.create=function(n,r,o){e.post(t+n,r).then(function(t){return o(t.data)},i)},this.read=function(n,r){e({method:"GET",url:t+n}).then(function(t){return r(t.data)},i)},this.update=function(n,r,o){e.put(t+n,r).then(function(t){return o(t.data)},i)},this.delete=function(n,r){e.delete(t+n).then(function(t){return r(t.data)},i)}};this.$get=["$http","Session","alerts",function(t,e,r){return new n(t,e,r)}]}]);